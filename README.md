# Content based Music Recommendation System

![image](https://user-images.githubusercontent.com/13203059/163527232-91f5d9e5-7bd0-4ca4-a251-c22e0419876e.png)

[![PyPI](https://img.shields.io/pypi/pyversions/locust.svg)](https://pypi.org/project/locust/)
![Tests](https://github.com/kshitijzutshi/DAMG7245-Final-Project/actions/workflows/testing_workflow.yml/badge.svg)


![Python](https://img.shields.io/badge/python-3670A0?style=for-the-badge&logo=python&logoColor=ffdd54)
![](https://img.shields.io/badge/Google_Cloud-4285F4?style=for-the-badge&logo=google-cloud&logoColor=white)
![](https://img.shields.io/badge/Google_Cloud-4285F4?style=for-the-badge&logo=google-cloud&logoColor=white)
![](https://img.shields.io/badge/Spotify-1ED760?&style=for-the-badge&logo=spotify&logoColor=white)
![](https://img.shields.io/badge/GitHub_Actions-2088FF?style=for-the-badge&logo=github-actions&logoColor=white)
![](https://img.shields.io/badge/Streamlit-FF4B4B?style=for-the-badge&logo=Streamlit&logoColor=white)

# CLaaT Document

[Access the Claat document here](https://codelabs-preview.appspot.com/?file_id=12z0C4Hw5840SwWBf6vqpAS81ir7TEm-NcLhjHyZOQW4#12) ğŸš€

[![Open in Gitpod](https://gitpod.io/button/open-in-gitpod.svg)](https://gitpod.io/#https://github.com/kshitijzutshi/DAMG7245-Final-Project)

# Overview ğŸ“

We use automated recommender systems everywhere in our day-to -day lives,be it the TV show to binge watch on Netflix, playlists on Youtube or Job recommendations on LinkedIn. In the same space we have recommender systems in music applications as well - Spotify, FreeSound,Songkick to name a few. As part of an academic project for course Big Data Systems & Intelligence Analytics we will build a data pipeline based on a similar idea, wherein we will use pre trained model inference to suggest users recommended music playlists that suit their interests.

# Goals ğŸ¯

Our objective is to build an application where  users will be able to provide a link to their music playlist and get relevant content based recommendations from our pre-trained Machine learning model. Features that are planned to be implemented around this recommendation system pipeline are as follows - 

ğŸ’¡ Users can have the options  to get  most similar song recommendations based on Input song of userâ€™s choice or input a userâ€™s spotify playlist. The results for which are generated by using the K Means clustering model

ğŸ’¡ Using recently searched songs data of User, users would receive Email ğŸ“§ music recommendations on a weekly basis. 

ğŸ’¡ Implement User analytics Dashboard to account for the following - Word cloud, playlist recommendation feedback(like/dislike), Most popular genres among users, last activity etc.



# Use cases ğŸ“‘

By creating veracity and options for Music listeners and analyzing their listening patterns, 
A Music Recommendation system like ours can be integrated/shared with social media platforms like Instagram and snapchat to search for similar songs based on the user input.


# Dataset Source ğŸ”¦

Spotify Million playlist dataset : AIcrowd | Spotify Million Playlist Dataset Challenge | Challenges
The dataset contains 1,000,000 playlists, including playlist titles and track titles, created by users on the Spotify platform between January 2010 and October 2017.It has 1 million Spotify playlists, over 2 million unique tracks, and nearly 300,000 artists.

# Process Outline

1. Data Preprocessing 
2. Understanding the Dataset - Exploratory Data Analysis(EDA)
3. Building a pipeline system using pretrained model and also using various tools/softwares(AWS Sagemaker, Streamlit, GCP)
4. Deploying the model on AWS
5. Build a web application using streamlit for showcasing the results.


# Milestones

| Time Frame  | Tasks                                                               |
|:-----------:|:-------------------------------------------------------------------:|
| Day 1 - 5   | Data processing, EDA, Model selection                               |
| Day 5 - 10  | Deployment of Models, Setup of Data pipeline, Streamlit Integration |
| Day 10 - 15 | System integration, App enhancements, Testing and documentation     |


# Project Folder Structure

```
ğŸ“¦workflows
 â”£ ğŸ“œclose-issue.yml
 â”£ ğŸ“œget-weekly-top10.yaml
 â”£ ğŸ“œhello.yaml
 â”£ ğŸ“œnew_top50.yml
 â”£ ğŸ“œsend-email.yml
 â”— ğŸ“œtesting_workflow.yml
 ğŸ“¦code
 â”£ ğŸ“œData_Preprocessing.ipynb
 â”£ ğŸ“œExploratory Data Analysis.ipynb
 â”£ ğŸ“œGet_MPD_Data.ipynb
 â”£ ğŸ“œkmeans-sagemaker.ipynb
 â”£ ğŸ“œmodel_selection_visualization.ipynb
 â”£ ğŸ“œPlaylist_Recommendation.ipynb
 â”£ ğŸ“œread_spotify_million_playlists.py
 â”— ğŸ“œtest.ipynb
 ğŸ“¦data
 â”£ ğŸ“‚smp_data
 â”£ ğŸ“œ2022_19_19_23_29_24_MPD_Extended.csv
 â”£ ğŸ“œ2022_19_19_23_29_40_playlists_20000.json
 â”£ ğŸ“œ2022_20_20_00_58_35_Playlist_Feats_20000.csv
 â”£ ğŸ“œspotify_20K_playlists.db
 â”— ğŸ“œMPD.csv
 ğŸ“¦htmlcov
 â”£ ğŸ“œcoverage_html.js
 â”£ ğŸ“œd_36f028580bb02cc8_locust_test_py.html
 â”£ ğŸ“œd_36f028580bb02cc8_test_songname_py.html
 â”£ ğŸ“œfavicon_32.png
 â”£ ğŸ“œindex.html
 â”£ ğŸ“œkeybd_closed.png
 â”£ ğŸ“œkeybd_open.png
 â”£ ğŸ“œstatus.json
 â”— ğŸ“œstyle.css
 ğŸ“¦images
 ğŸ“¦model
 â”£ ğŸ“œopenTSNETransformer.sav
 â”— ğŸ“œStdScaler.sav
 ğŸ“¦streamlit
 â”£ ğŸ“‚assets
 â”ƒ â”£ ğŸ“‚images
 â”ƒ â”ƒ â”£ ğŸ“œlogin.gif
 â”ƒ â”ƒ â”£ ğŸ“œlogo.png
 â”ƒ â”ƒ â”£ ğŸ“œsettings.png
 â”ƒ â”ƒ â”£ ğŸ“œspotify.jpg
 â”ƒ â”ƒ â”£ ğŸ“œspotify.png
 â”ƒ â”ƒ â”£ ğŸ“œspotify_get_playlist_uri.png
 â”ƒ â”ƒ â”— ğŸ“œtwitter-logo.png
 â”ƒ â”£ ğŸ“œ.DS_Store
 â”ƒ â”— ğŸ“œstyles.css
 â”£ ğŸ“œnew.csv
 â”£ ğŸ“œspotipy_client.py
 â”— ğŸ“œstreamlit.py
 ğŸ“¦test
 â”£ ğŸ“œlocust_test.py
 â”£ ğŸ“œtest_songname.py
 â”— ğŸ“œtracks_10.csv
 â”£ ğŸ“œrequirements.txt
 â”£ ğŸ“œrequirements_dev.txt
 â”— ğŸ“œsend_email.py
 ```

# Deployment Details

The Spotify music recommendation app has been deployed on Google Cloud Compute Engine and Streamlit â˜


# Github Actions - Workflows

1. Close an Issue if the comment says "close issue"

![close-issue-actions](https://user-images.githubusercontent.com/13203059/165130958-945f07cb-cfc2-43c2-a40f-7f5e790b8c25.gif)

2. Pytest and coverage test on multiple versions of python and OS - On each push/pull request

![image](https://user-images.githubusercontent.com/13203059/166744789-e49f6682-7246-4757-84c6-d0a06e6b36c9.png)

3. Weekly Spotify Recommendations based on last searched song by user - CRON workflow

![image](https://user-images.githubusercontent.com/13203059/166855338-1948ace0-9e2d-4047-b3b7-c0f04b22b8ec.png)


# Demo Walk through Video

[![IMAGE ALT TEXT HERE](https://img.youtube.com/vi/MqxsdbIJzzc/0.jpg)](https://www.youtube.com/watch?v=MqxsdbIJzzc)


# Contributions

| Contributor           | GitHub Issues                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | Status     | % Contribution |
|:---------------------:|:--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------:|:----------:|:--------------:|
| Kshitij Zutshi        | ![Issue #4](https://github.com/kshitijzutshi/DAMG7245-Final-Project/issues/4), ![Issue #10](https://github.com/kshitijzutshi/DAMG7245-Final-Project/issues/10), ![Issue #9](https://github.com/kshitijzutshi/DAMG7245-Final-Project/issues/9), ![Issue #6](https://github.com/kshitijzutshi/DAMG7245-Final-Project/issues/5), ![Issue #6](https://github.com/kshitijzutshi/DAMG7245-Final-Project/issues/6), ![Issue #17](https://github.com/kshitijzutshi/DAMG7245-Final-Project/issues/17), ![Issue #23](https://github.com/kshitijzutshi/DAMG7245-Final-Project/issues/23), ![Issue #21](https://github.com/kshitijzutshi/DAMG7245-Final-Project/issues/21), ![Issue #26](https://github.com/kshitijzutshi/DAMG7245-Final-Project/issues/26), ![Issue #27](https://github.com/kshitijzutshi/DAMG7245-Final-Project/issues/27) | âœ… Complete | 40%            |
| Priyanka Dilip Shinde | ![Issue #1](https://github.com/kshitijzutshi/DAMG7245-Final-Project/issues/1), ![Issue #5](https://github.com/kshitijzutshi/DAMG7245-Final-Project/issues/5), ![Issue #6](https://github.com/kshitijzutshi/DAMG7245-Final-Project/issues/6), ![Issue #12](https://github.com/kshitijzutshi/DAMG7245-Final-Project/issues/12), ![Issue #24](https://github.com/kshitijzutshi/DAMG7245-Final-Project/issues/24), ![Issue #7](https://github.com/kshitijzutshi/DAMG7245-Final-Project/issues/7), ![Issue #20](https://github.com/kshitijzutshi/DAMG7245-Final-Project/issues/20)                                                                                                                                                                                                                                                    | âœ… Complete | 30%            |
| Dwithika Shetty       | ![Issue #2](https://github.com/kshitijzutshi/DAMG7245-Final-Project/issues/2), ![Issue #6](https://github.com/kshitijzutshi/DAMG7245-Final-Project/issues/5), ![Issue #11](https://github.com/kshitijzutshi/DAMG7245-Final-Project/issues/11), ![Issue #22](https://github.com/kshitijzutshi/DAMG7245-Final-Project/issues/22)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   | âœ… Complete | 30%            |




# Reference 

[How to build a music recommender system. | Towards Data Science](https://towardsdatascience.com/how-to-build-an-amazing-music-recommendation-system-4cce2719a572)

[Music Recommender System (iitk.ac.in)](https://www.cse.iitk.ac.in/users/cs365/2014/_submissions/shefalig/project/)

[Music APIs - A List of Free and Public APIs (the-api-collective.com)](https://the-api-collective.com/category/music)

[AIcrowd | Spotify Million Playlist Dataset Challenge | Challenges](https://www.aicrowd.com/challenges/spotify-million-playlist-dataset-challenge)



